import{j as s,C as c,r as n,u as i,L as h,_ as l}from"./index-DXygbHet.js";function u({Items:r,status:o}){return s.jsx(s.Fragment,{children:r.length>0&&r.map(e=>s.jsxs(c,{className:"order-item",children:[s.jsx(c,{className:"order-item-img",children:s.jsx("img",{src:`${e.productId.productImgUrls[0]}`,alt:""})}),s.jsx("h1",{className:"item-name",children:e.productId.name}),s.jsxs("h1",{children:["Size : ",e.size.toUpperCase()]}),s.jsxs("h1",{children:["Quantity : ",e.quantity]}),s.jsxs("h1",{children:["Status : ",o]})]},`${e._id}`))})}function x(){const[r,o]=n.useState([]),{accessToken:e}=i();return n.useEffect(()=>{e&&(async()=>{try{const a=await fetch("/api/order/",{method:"GET",headers:{Authorization:`Bearer ${e}`}}),d=await a.json();a.status===200&&o(d.userOrders)}catch(a){l.error(`${a}`)}})()},[e]),n.useEffect(()=>{window.scrollTo(0,0)},[]),s.jsx(c,{className:"user-address-box",children:r.length>0?r.map(t=>s.jsx(u,{Items:t.orderedItem,status:t.orderStatus},t._id)):s.jsxs(c,{className:"wishlist-con2",children:[s.jsx("h1",{children:"No orders yet"}),s.jsx("h2",{children:"Browse our awesome collection and place your first order!!"}),s.jsx(h,{to:"/",className:"link-con",children:"Shop now"})]})})}export{x as default};
